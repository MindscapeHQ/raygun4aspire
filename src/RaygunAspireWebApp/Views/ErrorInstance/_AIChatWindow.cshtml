<div id="ai-chat" class="ai-chat-elem">
  <div class="background--color-bg-drawer-header-ai padding-horizontal--24 padding-vertical--4 display--flex justify-content--space-between align-items--center color--color-text-inverted font-opensans--14--24--600">
    <span>AI Error Resolution</span>
    <button class="rg utility" onclick="closeAIChatWindow()">
      <i id="ai-chat-close" class="cross-large"></i>
    </button>
  </div>
  <div class="ai-chat-contents">
    <div id="loading-section" class="display--flex justify-content--center align-items--center flex-direction--column height--full display--none margin-top--goldenR-responsive">
      <div class="ai-loading-animation">
        <svg class="ai-loading-svg" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g class="loading-circle">
            <path opacity="0.25" d="M20,2A18,18,0,1,0,38,20,18,18,0,0,0,20,2Zm0,32a14,14,0,1,1,14-14A14,14,0,0,1,20,34Z" fill="#327dd0"></path>
            <path d="M16.56,2.26a18,18,0,0,0-14.7,14.57A2.61,2.61,0,0,0,4.08,20,2.48,2.48,0,0,0,6.79,17.67a14,14,0,0,1,10.88-10.8A2.32,2.32,0,0,0,20,4.55h0A2.57,2.57,0,0,0,16.56,2.26Z" fill="#327dd0">
              <animateTransform values="0 20 20;360 20 20" type="rotate" repeatCount="indefinite" dur="1s" attributeName="transform"></animateTransform>
            </path>
          </g>
          <path class="loading-bolt" fill-rule="evenodd" clip-rule="evenodd" d="M25 18.9196L20.7282 18.1339L22.5728 9L15 20.5893L19.466 21.375L17.3301 31L25 18.9196Z" fill="#0478D2"></path>
        </svg>
      </div>
      <p class="font-opensans--14--24--400 color--color-text-default padding-top--16">Crunching the binary code. Please stand by...</p>
    </div>

    <div id="messages-list-section" class="display--none margin-top--24 margin-bottom--24"></div>
    
    <div id="download-progress-section" class="padding--24 display--flex justify-content--center align-items--center flex-direction--column height--full display--none margin-top--goldenR-responsive">
      <div class="font-opensans--14--24--400 text-align--center color--color-text-default">AI error resolution will be available when the model finishes downloading. Warning: terminating the Aspire orchestration app (AppHost) will cancel the download.</div>
      <div class="ai-progress-bar--track margin-top--16">
        <div id="download-progress-bar" class="ai-progress-bar--fill"></div>
      </div>
    </div>
    
    <div id="error-section" class="display--flex flex-direction--column justify-content--center align-items--center display--none margin-top--16pc-responsive">
      <div class="padding-top--56">
        <svg width="108" height="162" viewBox="0 0 108 162" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="54" cy="70.4141" r="54" fill="#E8F4FF"/>
          <path d="M72.0303 93.5314C67.5475 92.7521 59.0675 91.4141 53.5563 91.4141C48.0451 91.4141 39.4642 92.7601 34.993 93.5384C33.2809 93.8367 32 95.3584 32 97.1425V121.97C32 125.268 33.1323 128.458 35.1941 130.985C38.3444 134.847 42.3416 139.831 45.2473 143.583C45.9514 144.492 46.838 145.213 47.7703 145.782C51.3324 147.958 55.8016 147.959 59.3628 145.781C60.2931 145.212 61.1788 144.491 61.8819 143.583C64.7574 139.87 68.6488 134.948 71.7836 131.104C73.8589 128.558 75 125.346 75 122.024V97.1425C75 95.3554 73.7463 93.8288 72.0322 93.5304L72.0303 93.5314Z" fill="white"/>
          <path d="M15.5 58.9141L18.5 55.9141H19.5V65.9141L15.5 63.4141L15 61.4141L15.5 58.9141Z" fill="white"/>
          <path d="M93 58.9141L90 55.9141H89V65.9141L93 63.4141L93.5 61.4141L93 58.9141Z" fill="white"/>
          <path d="M79.8571 98.9141L76 97.4141V109.414L79.8571 108.414L82 105.914V101.414L79.8571 98.9141Z" fill="white"/>
          <path d="M67.4633 32.6758H40.6098C30.6447 32.6758 22.5664 40.838 22.5664 50.9066V68.3181C22.5664 78.3867 30.6447 86.549 40.6098 86.549H67.4633C77.4284 86.549 85.5067 78.3867 85.5067 68.3181V50.9066C85.5067 40.838 77.4284 32.6758 67.4633 32.6758Z" fill="white"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M67.4633 34.6758H40.6098C31.7687 34.6758 24.5664 41.923 24.5664 50.9066V68.3181C24.5664 77.3017 31.7687 84.549 40.6098 84.549H67.4633C76.3044 84.549 83.5067 77.3017 83.5067 68.3181V50.9066C83.5067 41.923 76.3044 34.6758 67.4633 34.6758ZM40.6098 32.6758H67.4633C77.4284 32.6758 85.5067 40.838 85.5067 50.9066V68.3181C85.5067 78.3867 77.4284 86.549 67.4633 86.549H40.6098C30.6447 86.549 22.5664 78.3867 22.5664 68.3181V50.9066C22.5664 40.838 30.6447 32.6758 40.6098 32.6758Z" fill="#158FEF"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M28 60.4141C23.7385 60.4141 21.231 61.7024 20.6306 62.1902C20.202 62.5384 19.5722 62.4733 19.2239 62.0447C18.8757 61.616 18.9408 60.9862 19.3694 60.6379C20.4101 59.7924 23.4001 58.4141 28 58.4141C28.5523 58.4141 29 58.8618 29 59.4141C29 59.9663 28.5523 60.4141 28 60.4141Z" fill="#158FEF"/>
          <path d="M63.828 40.9121H44.1678C34.9948 40.9121 27.5586 48.4256 27.5586 57.6939V63.9787C27.5586 73.247 34.9948 80.7604 44.1678 80.7604H63.828C73.001 80.7604 80.4372 73.247 80.4372 63.9787V57.6939C80.4372 48.4256 73.001 40.9121 63.828 40.9121Z" fill="#172F45"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M63.828 42.9121H44.1678C36.1188 42.9121 29.5586 49.5106 29.5586 57.6939V63.9787C29.5586 72.162 36.1188 78.7604 44.1678 78.7604H63.828C71.877 78.7604 78.4372 72.162 78.4372 63.9787V57.6939C78.4372 49.5106 71.877 42.9121 63.828 42.9121ZM44.1678 40.9121H63.828C73.001 40.9121 80.4372 48.4256 80.4372 57.6939V63.9787C80.4372 73.247 73.001 80.7604 63.828 80.7604H44.1678C34.9948 80.7604 27.5586 73.247 27.5586 63.9787V57.6939C27.5586 48.4256 34.9948 40.9121 44.1678 40.9121Z" fill="#158FEF"/>
          <path d="M44.1817 78.7563C36.0827 78.7563 29.4688 72.0974 29.4688 63.9142V57.6696C29.4688 49.4874 36.0837 42.8398 44.1817 42.8398H63.8144C71.9134 42.8398 78.5274 49.4864 78.5274 57.6696V63.9142C78.5274 72.0964 71.9124 78.7563 63.8144 78.7563H44.1817Z" fill="#E8F4FF"/>
          <path d="M48.7496 54.9141C48.7496 56.2948 47.8604 57.4141 46.7635 57.4141C45.6666 57.4141 44.7773 56.2948 44.7773 54.9141C44.7773 53.5334 45.6666 52.4141 46.7635 52.4141C47.8604 52.4141 48.7496 53.5334 48.7496 54.9141Z" fill="#158FEF"/>
          <path d="M63.6461 54.9141C63.6461 56.2948 62.7569 57.4141 61.66 57.4141C60.5631 57.4141 59.6738 56.2948 59.6738 54.9141C59.6738 53.5334 60.5631 52.4141 61.66 52.4141C62.7569 52.4141 63.6461 53.5334 63.6461 54.9141Z" fill="#158FEF"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M88 60.4141C83.7385 60.4141 81.231 61.7024 80.6306 62.1902C80.202 62.5384 79.5722 62.4733 79.2239 62.0447C78.8757 61.616 78.9408 60.9862 79.3694 60.6379C80.4101 59.7924 83.4001 58.4141 88 58.4141C88.5523 58.4141 89 58.8618 89 59.4141C89 59.9663 88.5523 60.4141 88 60.4141Z" fill="#158FEF"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M45.8231 68.629C45.7148 68.0875 46.066 67.5606 46.6075 67.4523L61.6075 64.4523C62.1491 64.344 62.6759 64.6952 62.7842 65.2368C62.8925 65.7783 62.5413 66.3052 61.9998 66.4135L46.9998 69.4135C46.4582 69.5218 45.9314 69.1706 45.8231 68.629Z" fill="#158FEF"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M21 52.4141C21 51.8618 20.5523 51.4141 20 51.4141C19.4477 51.4141 19 51.8618 19 52.4141V54.7457C18.1477 55.1334 17.1125 55.7389 16.2082 56.548C15.0615 57.5739 14 59.0455 14 60.9141C14 62.7826 15.0615 64.2542 16.2082 65.2802C17.1125 66.0892 18.1477 66.6947 19 67.0825V69.4141C19 69.9663 19.4477 70.4141 20 70.4141C20.5523 70.4141 21 69.9663 21 69.4141V66.4374C21.0004 66.4219 21.0004 66.4064 21 66.3909L21 55.4372C21.0004 55.4218 21.0004 55.4063 21 55.3907V52.4141ZM19 56.9938C18.5124 57.2759 18.0021 57.6266 17.5418 58.0385C16.6052 58.8764 16 59.8493 16 60.9141C16 61.9788 16.6052 62.9517 17.5418 63.7896C18.0021 64.2015 18.5124 64.5523 19 64.8343V56.9938Z" fill="#158FEF"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M87.0003 52.4141C87.0003 51.8618 87.448 51.4141 88.0003 51.4141C88.5526 51.4141 89.0003 51.8618 89.0003 52.4141V54.7457C89.8526 55.1334 90.8877 55.7389 91.792 56.548C92.9388 57.5739 94.0003 59.0455 94.0003 60.9141C94.0003 62.7826 92.9388 64.2542 91.792 65.2802C90.8877 66.0892 89.8526 66.6947 89.0003 67.0825V69.4141C89.0003 69.9663 88.5526 70.4141 88.0003 70.4141C87.448 70.4141 87.0003 69.9663 87.0003 69.4141L87.0003 66.4374C86.9999 66.4219 86.9999 66.4064 87.0003 66.3909L87.0003 55.4372C86.9999 55.4217 86.9999 55.4063 87.0003 55.3907L87.0003 52.4141ZM89.0003 56.9938L89.0003 64.8343C89.4878 64.5523 89.9981 64.2015 90.4585 63.7896C91.3951 62.9517 92.0003 61.9788 92.0003 60.9141C92.0003 59.8493 91.3951 58.8764 90.4585 58.0385C89.9981 57.6266 89.4878 57.2759 89.0003 56.9938Z" fill="#158FEF"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M43.2798 93.4135C43.0346 93.655 43 93.821 43 93.9142C43 94.0153 43.043 94.2199 43.3897 94.5152C43.745 94.8178 44.3444 95.1437 45.2461 95.4386C47.0427 96.0261 49.8004 96.4142 53.5 96.4142C57.1996 96.4142 59.9573 96.0261 61.7539 95.4386C62.6556 95.1437 63.255 94.8178 63.6103 94.5152C63.957 94.2199 64 94.0153 64 93.9142C64 93.821 63.9654 93.655 63.7202 93.4135C63.4643 93.1614 63.0225 92.8757 62.3363 92.6005C60.966 92.0508 58.8385 91.6281 55.9474 91.4757L56.0526 89.4785C59.0511 89.6365 61.4236 90.0795 63.0809 90.7442C63.9085 91.0762 64.6125 91.485 65.1238 91.9887C65.6458 92.5031 66 93.1544 66 93.9142C66 94.7795 65.5437 95.4956 64.907 96.0379C64.2789 96.5727 63.4107 97.001 62.3756 97.3395C60.2987 98.0187 57.3065 98.4142 53.5 98.4142C49.6935 98.4142 46.7013 98.0187 44.6244 97.3395C43.5893 97.001 42.7211 96.5727 42.093 96.0379C41.4563 95.4956 41 94.7795 41 93.9142C41 93.1544 41.3541 92.5031 41.8762 91.9887C42.3875 91.485 43.0915 91.0762 43.9191 90.7442C45.5764 90.0795 47.9489 89.6365 50.9474 89.4785L51.0526 91.4757C48.1615 91.6281 46.034 92.0508 44.6637 92.6005C43.9775 92.8757 43.5357 93.1614 43.2798 93.4135Z" fill="#158FEF"/>
          <path d="M46 114.914L58 101.414L55 111.914L62.5 112.914L50 126.914L53 115.914L46 114.914Z" fill="#BADAF6"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M58.4816 100.538C58.8906 100.762 59.0897 101.24 58.9615 101.689L56.2795 111.076L62.6322 111.923C62.9992 111.972 63.3092 112.22 63.4378 112.567C63.5664 112.914 63.4926 113.304 63.246 113.58L50.746 127.58C50.4369 127.926 49.9305 128.014 49.5227 127.793C49.115 127.571 48.9132 127.099 49.0353 126.651L51.7372 116.744L45.8586 115.904C45.4941 115.852 45.1877 115.604 45.061 115.258C44.9344 114.912 45.008 114.525 45.2526 114.25L57.2526 100.75C57.5626 100.401 58.0727 100.313 58.4816 100.538ZM47.984 114.187L53.1414 114.924C53.4254 114.965 53.6782 115.125 53.8358 115.365C53.9933 115.605 54.0403 115.9 53.9648 116.177L52.082 123.081L60.4971 113.656L54.8679 112.905C54.5798 112.867 54.3228 112.705 54.1635 112.462C54.0043 112.219 53.9587 111.919 54.0385 111.639L55.8336 105.357L47.984 114.187Z" fill="#158FEF"/>
          <path d="M56.5 74.9141L51.5 78.4141L53.5 80.9141L61 76.4141L61.5 74.9141L61 72.9141H59.5L56.5 74.9141Z" fill="#E8F4FD"/>
          <path d="M75 97.9141C77.3333 97.9141 82 99.1141 82 103.914C82 108.714 77.6667 109.914 75.5 109.914" stroke="#158FEF" stroke-width="2"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M86.1352 116.999L86.1543 117.03L86.2031 116.999H90.4038C92.0541 116.999 93.0627 118.172 93.0627 119.237V119.271L93.0638 119.306L94.0016 146.739C93.9841 147.814 92.9424 148.999 91.343 148.999H83.6607C82.0768 148.999 81.0255 147.821 81.0023 146.722L82.2512 119.382L82.2533 119.336V119.291C82.2533 118.178 83.2893 116.999 84.9121 116.999H86.1352ZM84.8829 114.999C84.1066 115.004 83.3745 115.184 82.7315 115.499L78.8441 109.377L77.1558 110.45L81.1577 116.751C80.5894 117.462 80.2533 118.34 80.2533 119.291L79.0019 146.685C79.0019 149.031 81.0915 150.999 83.6607 150.999H91.343C93.9122 150.999 96.0019 149.041 96.0019 146.712L95.0627 119.237C95.0627 116.89 92.973 114.999 90.4038 114.999H87.2426L81.8475 106.383L80.1523 107.444L84.8829 114.999Z" fill="#158FEF"/>
          <ellipse cx="53" cy="158.914" rx="19" ry="2.5" fill="#E8F4FF"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M50.2929 21.7071C50.6834 21.3166 51.3166 21.3166 51.7071 21.7071L55.7071 25.7071C56.0976 26.0976 56.0976 26.7308 55.7071 27.1213C55.3166 27.5118 54.6834 27.5118 54.2929 27.1213L50.2929 23.1213C49.9024 22.7308 49.9024 22.0976 50.2929 21.7071Z" fill="#158FEF"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M36.2929 7.70711C36.6834 7.31658 37.3166 7.31658 37.7071 7.70711L42.7071 12.7071C43.0976 13.0976 43.0976 13.7308 42.7071 14.1213C42.3166 14.5118 41.6834 14.5118 41.2929 14.1213L36.2929 9.12132C35.9024 8.7308 35.9024 8.09763 36.2929 7.70711Z" fill="#158FEF"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M57.2929 0.707107C57.6834 0.316582 58.3166 0.316582 58.7071 0.707107L65.7071 7.70711C66.0976 8.09763 66.0976 8.7308 65.7071 9.12132C65.3166 9.51184 64.6834 9.51184 64.2929 9.12132L57.2929 2.12132C56.9024 1.7308 56.9024 1.09763 57.2929 0.707107Z" fill="#158FEF"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M55.7071 21.7071C55.3166 21.3166 54.6834 21.3166 54.2929 21.7071L50.2929 25.7071C49.9024 26.0976 49.9024 26.7308 50.2929 27.1213C50.6834 27.5118 51.3166 27.5118 51.7071 27.1213L55.7071 23.1213C56.0976 22.7308 56.0976 22.0976 55.7071 21.7071Z" fill="#158FEF"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M42.7071 7.70711C42.3166 7.31658 41.6834 7.31658 41.2929 7.70711L36.2929 12.7071C35.9024 13.0976 35.9024 13.7308 36.2929 14.1213C36.6834 14.5118 37.3166 14.5118 37.7071 14.1213L42.7071 9.12132C43.0976 8.7308 43.0976 8.09763 42.7071 7.70711Z" fill="#158FEF"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M65.7071 0.707107C65.3166 0.316582 64.6834 0.316582 64.2929 0.707107L57.2929 7.70711C56.9024 8.09763 56.9024 8.7308 57.2929 9.12132C57.6834 9.51184 58.3166 9.51184 58.7071 9.12132L65.7071 2.12132C66.0976 1.7308 66.0976 1.09763 65.7071 0.707107Z" fill="#158FEF"/>
          <path d="M53.5737 148.414C51.3616 148.414 49.1494 147.795 47.2126 146.556C46.2196 145.917 45.3937 145.178 44.7645 144.369C40.9596 139.455 35.8766 133.213 34.4018 131.415C32.2093 128.728 31 125.372 31 121.967V96.2981C31 94.3205 32.3961 92.6426 34.333 92.303C36.3386 91.9534 39.2489 91.6538 42.7391 91.434L42.8571 93.4316C39.4357 93.6513 36.6041 93.941 34.6574 94.2805C33.6742 94.4503 32.9664 95.2993 32.9664 96.2981V121.967C32.9664 124.913 34.0085 127.819 35.9159 130.146C37.8036 132.454 42.5917 138.346 46.3081 143.141C46.7997 143.78 47.4584 144.359 48.2646 144.878C51.4992 146.946 55.6679 146.946 58.8927 144.878C59.6989 144.359 60.3577 143.78 60.8394 143.151C64.0544 138.996 68.1149 133.892 71.1726 130.156C73.021 127.889 74.0435 124.983 74.0435 121.977V96.2981C74.0435 95.2893 73.3553 94.4403 72.4114 94.2805C70.4057 93.931 67.4562 93.6313 63.8774 93.4116L63.9954 91.4141C66.532 91.5739 70.1108 91.8535 72.7359 92.303C74.6236 92.6326 76 94.3105 76 96.2881V121.957C76 125.422 74.8202 128.778 72.6769 131.405C69.629 135.13 65.5882 140.214 62.383 144.359C61.7538 145.168 60.9377 145.907 59.9349 146.546C58.0079 147.785 55.7859 148.414 53.5737 148.414Z" fill="#158FEF"/>
          <path d="M48.0001 74.5428C46.4001 76.9428 46.3334 78.8761 46.5001 79.5428L42.5001 82.4135C41.5001 70.9135 50.0001 71.5428 48.0001 74.5428Z" fill="#E8F4FD"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M49.2868 73.411C49.3694 74.0067 49.1709 74.5887 48.8315 75.0978C47.3444 77.3284 47.3881 78.9749 47.4695 79.3006L47.6343 79.9595L41.6553 84.2505L41.5032 82.5005C40.9848 76.539 42.91 73.3192 45.165 72.1528C46.2301 71.6019 47.4629 71.4936 48.3591 72.0335C48.8336 72.3193 49.2011 72.7926 49.2868 73.411ZM43.4167 80.5247C43.4312 76.294 44.9838 74.4982 46.0838 73.9292C46.7146 73.603 47.1501 73.6699 47.2961 73.7313C47.2827 73.7804 47.2495 73.8652 47.1674 73.9884C45.785 76.062 45.4029 77.9082 45.4393 79.0731L43.4167 80.5247Z" fill="#158FEF"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M60.2329 75.1116C60.5456 74.8921 60.6513 74.4774 60.4821 74.1349C60.2663 73.6985 59.7061 73.5671 59.3188 73.862L51.2994 79.9695L50.0876 78.3784L58.1071 72.2709C59.4948 71.214 61.502 71.6849 62.275 73.2486C62.8815 74.4757 62.5025 75.9617 61.3823 76.7484L53.5733 82.2323L52.4239 80.5955L60.2329 75.1116Z" fill="#158FEF"/>
          <path d="M58.1337 85.7362C59.6834 87.8581 59.1458 90.8973 57.0029 92.4623L31.2237 109.705C29.0587 111.286 26.0425 110.841 24.4935 108.72L21.1808 104.184C19.631 102.062 20.0977 99.075 22.2417 97.5092L46.7727 78.4037C48.9 76.85 51.9498 77.2691 53.4996 79.3911L58.1337 85.7362Z" fill="white"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M31.2237 109.705L57.0029 92.4623C59.1458 90.8973 59.6834 87.8581 58.1337 85.7362L53.4996 79.3911C51.9498 77.2691 48.9 76.85 46.7727 78.4037L22.2417 97.5092C20.0977 99.075 19.631 102.062 21.1808 104.184L24.4935 108.72C26.0425 110.841 29.0587 111.286 31.2237 109.705ZM30.0775 108.066L55.8522 90.8258C57.123 89.874 57.3781 88.0926 56.5185 86.9157L51.8845 80.5707C51.017 79.383 49.2439 79.0936 47.974 80.0031L23.4463 99.106L23.4213 99.1243C22.1626 100.044 21.9025 101.781 22.7959 103.005L26.1086 107.541C26.9864 108.742 28.7439 109.04 30.0442 108.09L30.0775 108.066Z" fill="#158FEF"/>
        </svg>
      </div>
      <div class="padding-top--32">
        <h2 class="font-opensans--18--28--600 color--color-text-default">
          Unexpected Error
        </h2>
      </div>
      <div class="padding-top--16">
        <p class="font-opensans--14--24--400 text-align--center color--color-text-default">
          Failed to connect to the local Ollama server. Check that the Ollama container is running and not producing errors.
        </p>
      </div>
    </div>
  </div>

</div>

<script>
  function closeAIChatWindow() {
    document.getElementById("ai-chat-container").classList.add("display--none");
    document.getElementById("tab-content").classList.remove("responsive-width--half");

    document.getElementById("ai-error-res-btn").disabled = false;
    document.getElementById("ai-res-icon").style.backgroundColor = "";
  }
</script>